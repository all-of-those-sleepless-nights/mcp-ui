var u="openai:set_globals",w="Black widget ready",d=document.getElementById("black-root"),o=document.getElementById("black-title");if(!d||!o)throw new Error("Black widget root not found");var l=()=>{let t=d.getAttribute("data-black-config");if(!t||t==="__BLACK_CONFIG_JSON__")return{};try{return JSON.parse(t.replace(/&quot;/g,'"'))}catch(e){return console.error("Failed to parse black widget config:",e),{}}},s=t=>{if(typeof t!="string")return;let e=t.trim();return e.length>0?e:void 0},i=(t,e=!0)=>{let n=s(t)??(e?w:void 0);n&&o.textContent!==n&&(o.textContent=n)},f=t=>{if(!t||typeof t!="object")return;let e=t,n=e.widgetData??e._meta?.widgetData??e.toolResult?._meta?.widgetData;if(n&&typeof n=="object")return n},c=t=>{if(!t)return;let e=f(t.toolOutput);return e?.title?e.title:s(t.toolInput?.title)},a=()=>{let t=window.openai,e=c(t)??l().title;i(e,!0)},g=()=>{if(typeof window.openai=="object"&&window.openai!==null){a();return}let t=window.setInterval(()=>{typeof window.openai=="object"&&window.openai!==null&&(window.clearInterval(t),a())},250)};window.addEventListener(u,t=>{let e=t.detail.globals,n=c(e);n&&i(n)});var r=l();typeof r.title=="string"&&i(r.title,!1);g();
